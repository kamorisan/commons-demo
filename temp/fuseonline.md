https://access.redhat.com/documentation/ja-jp/red_hat_fuse/7.8/html-single/installing_and_operating_fuse_online_on_openshift_container_platform/index

https://access.redhat.com/documentation/ja-jp/red_hat_fuse/7.9/html-single/integrating_applications_with_fuse_online/index

https://access.redhat.com/documentation/ja-jp/red_hat_fuse/7.8/html-single/installing_and_operating_fuse_online_on_openshift_container_platform/index#format-for-specifying-curl-commands-to-invoke-fuse-online-endpoints_public
Fuse Online のパブリック REST API エンドポイントを呼び出す curl コマンドの形式は、以下のようになります。

curl [options] \
     -H "Content-Type: <media-type>" \
     -H "SYNDESIS-XSRF-TOKEN: awesome" \
     -H `Authorization: Bearer <token>` \
     <base-url><endpoint> \
     [--request <HTTP-method>] \
     [-d <data>] \
     [-o <filename>]



oc \
projects

oc patch syndesis app -n demo-pj -p '{"spec":{"addons":{"publicApi":{"enabled":"true"}}}}'

oc patch syndesis app -p '{"spec":{"addons":{"publicApi":{"enabled": true, "routeHostname": "https://syndesis-demo-pj.apps.cluster-c8cz7.c8cz7.sandbox545.opentlc.com"}}}}'

spec:
  addons:
    publicApi:
      enabled: true
      routeHostname: public-syndesis.192.168.64.63.nip.io


curl -v -k -L -H "Content-Type: application/json" \
-H "SYNDESIS-XSRF-TOKEN: awesome" \
-H 'Authorization: Bearer \
eyJhbGciOiJSUzI1NiIsImtpZCI6Il9NbTVmX3BjZ1RzYVdCWUYxam1qa3lkUGFORjBWR1VDb0M3NE9HT1VrOWsifQ.eyJpc3MiOiJrdWJlcm5ldGVzL3NlcnZpY2VhY2NvdW50Iiwia3ViZXJuZXRlcy5pby9zZXJ2aWNlYWNjb3VudC9uYW1lc3BhY2UiOiJjb21tb25zLWRlbW8iLCJrdWJlcm5ldGVzLmlvL3NlcnZpY2VhY2NvdW50L3NlY3JldC5uYW1lIjoic3luZGVzaXMtcHVibGljLW9hdXRocHJveHktdG9rZW4tbTJndHEiLCJrdWJlcm5ldGVzLmlvL3NlcnZpY2VhY2NvdW50L3NlcnZpY2UtYWNjb3VudC5uYW1lIjoic3luZGVzaXMtcHVibGljLW9hdXRocHJveHkiLCJrdWJlcm5ldGVzLmlvL3NlcnZpY2VhY2NvdW50L3NlcnZpY2UtYWNjb3VudC51aWQiOiIyN2Y4YWJhYi1mOTk3LTRhMDEtYTg3Mi0wZDc3YzEyZTVmYjYiLCJzdWIiOiJzeXN0ZW06c2VydmljZWFjY291bnQ6Y29tbW9ucy1kZW1vOnN5bmRlc2lzLXB1YmxpYy1vYXV0aHByb3h5In0.u0Znml2CoyKUyJ7OK3lT8nvA1S8xy-cq1LtrzY7tXl4ZWfRMhIAPKYCE4e4Omx7HWTSax3SuxH8Lc-mjbMSXTJK7OYETZsnl6IMQpTXQ7a3q8_kSaY5HBxPjdwi83M5ghx0iTT8ydLBqMIREKr-drmj4LK4lyuQnEj4hz8WAWamSaK_IQxbPQ9mBrX6jQnJ59QXNJtTE0H6bQ2DPoYZVhkwCRXIGPsp9bqxJvTI9TXbVIP0JDIIDobbD_GPbTFj-KjSXErRAbNwACUka5JjYNRZy1TTeVEShLoHCNLwFla0us8V5Uy6D6oNjn2yiyHLLZ1UTJ1cusAykJjXECklqjvxG9awN8DwYick5NHWbaQIwXVwExNVcpwy9oiE90jV3rqXIzLIGW7nU3yWmL5qG95ZBnS-PMR95o45cWiD6nbaSX-klViO5dWn_aFbcPDbmikf_EznLdJZNoKpUd_S8VN_R3lFiSsopWzeLhk8l35UlvVnIN0Il_dFih2Ie9zrDvSbyCB_RXHY4t6yYj4PUrYQzFOBMuckYKYgOKfCdJSrQDdKdi0mb1rYx2re_SE4O918V7vGlgdXRvEsP6uI9PM-16AWDYaNQd5OAaTzuHEPh2crml9MgnEgCkdp6X-aMgmOEkP6wC3xZJiXaFK_5B6dG58_E6lkDZWuqFOP6wtg' \
https://syndesis-public-api-demo-pj.apps.cluster-c8cz7.c8cz7.sandbox545.opentlc.com/api/v1/public/integrations/order/state


curl -v -k -L -H "Content-Type: multipart/form-data" \
-H "SYNDESIS-XSRF-TOKEN: awesome" \
-H 'Authorization: Bearer \
eyJhbGciOiJSUzI1NiIsImtpZCI6Il9NbTVmX3BjZ1RzYVdCWUYxam1qa3lkUGFORjBWR1VDb0M3NE9HT1VrOWsifQ.eyJpc3MiOiJrdWJlcm5ldGVzL3NlcnZpY2VhY2NvdW50Iiwia3ViZXJuZXRlcy5pby9zZXJ2aWNlYWNjb3VudC9uYW1lc3BhY2UiOiJjb21tb25zLWRlbW8iLCJrdWJlcm5ldGVzLmlvL3NlcnZpY2VhY2NvdW50L3NlY3JldC5uYW1lIjoic3luZGVzaXMtcHVibGljLW9hdXRocHJveHktdG9rZW4tbTJndHEiLCJrdWJlcm5ldGVzLmlvL3NlcnZpY2VhY2NvdW50L3NlcnZpY2UtYWNjb3VudC5uYW1lIjoic3luZGVzaXMtcHVibGljLW9hdXRocHJveHkiLCJrdWJlcm5ldGVzLmlvL3NlcnZpY2VhY2NvdW50L3NlcnZpY2UtYWNjb3VudC51aWQiOiIyN2Y4YWJhYi1mOTk3LTRhMDEtYTg3Mi0wZDc3YzEyZTVmYjYiLCJzdWIiOiJzeXN0ZW06c2VydmljZWFjY291bnQ6Y29tbW9ucy1kZW1vOnN5bmRlc2lzLXB1YmxpYy1vYXV0aHByb3h5In0.u0Znml2CoyKUyJ7OK3lT8nvA1S8xy-cq1LtrzY7tXl4ZWfRMhIAPKYCE4e4Omx7HWTSax3SuxH8Lc-mjbMSXTJK7OYETZsnl6IMQpTXQ7a3q8_kSaY5HBxPjdwi83M5ghx0iTT8ydLBqMIREKr-drmj4LK4lyuQnEj4hz8WAWamSaK_IQxbPQ9mBrX6jQnJ59QXNJtTE0H6bQ2DPoYZVhkwCRXIGPsp9bqxJvTI9TXbVIP0JDIIDobbD_GPbTFj-KjSXErRAbNwACUka5JjYNRZy1TTeVEShLoHCNLwFla0us8V5Uy6D6oNjn2yiyHLLZ1UTJ1cusAykJjXECklqjvxG9awN8DwYick5NHWbaQIwXVwExNVcpwy9oiE90jV3rqXIzLIGW7nU3yWmL5qG95ZBnS-PMR95o45cWiD6nbaSX-klViO5dWn_aFbcPDbmikf_EznLdJZNoKpUd_S8VN_R3lFiSsopWzeLhk8l35UlvVnIN0Il_dFih2Ie9zrDvSbyCB_RXHY4t6yYj4PUrYQzFOBMuckYKYgOKfCdJSrQDdKdi0mb1rYx2re_SE4O918V7vGlgdXRvEsP6uI9PM-16AWDYaNQd5OAaTzuHEPh2crml9MgnEgCkdp6X-aMgmOEkP6wC3xZJiXaFK_5B6dG58_E6lkDZWuqFOP6wtg' \
https://syndesis-public-api-demo-pj.apps.cluster-c8cz7.c8cz7.sandbox545.opentlc.com/api/v1/public/integrations/demo-pj/export.zip


## 
curl -v -k -L -H "Content-Type: multipart/form-data" \
-H "SYNDESIS-XSRF-TOKEN: awesome" \
-H 'Authorization: Bearer \
eyJhbGciOiJSUzI1NiIsImtpZCI6Il9NbTVmX3BjZ1RzYVdCWUYxam1qa3lkUGFORjBWR1VDb0M3NE9HT1VrOWsifQ.eyJpc3MiOiJrdWJlcm5ldGVzL3NlcnZpY2VhY2NvdW50Iiwia3ViZXJuZXRlcy5pby9zZXJ2aWNlYWNjb3VudC9uYW1lc3BhY2UiOiJjb21tb25zLWRlbW8iLCJrdWJlcm5ldGVzLmlvL3NlcnZpY2VhY2NvdW50L3NlY3JldC5uYW1lIjoiZGVmYXVsdC10b2tlbi05NmxnbiIsImt1YmVybmV0ZXMuaW8vc2VydmljZWFjY291bnQvc2VydmljZS1hY2NvdW50Lm5hbWUiOiJkZWZhdWx0Iiwia3ViZXJuZXRlcy5pby9zZXJ2aWNlYWNjb3VudC9zZXJ2aWNlLWFjY291bnQudWlkIjoiZWMzOWYzNDYtNmI1MC00OWFjLWFjYTgtZjYwNTYxZmI0MjBhIiwic3ViIjoic3lzdGVtOnNlcnZpY2VhY2NvdW50OmNvbW1vbnMtZGVtbzpkZWZhdWx0In0.IlSAbCAH-a5DAImH7XUz4AFa3TftkrM_BZiE42PoSoYqxiKt8BDIbYjaMkXmM3Zqw0G2WfweV_lUtkFSHkMvaJ8D5lhdND2EaI_xVka1bHfLWJXt_Fy4z0h0fsei5FxslIRmyPJRnPon7nkZzl1CClMIV0lyQ1Jt3oqsNOOb4ihw4xE_UWxyRHcBAbUof6iBZg9w4hagA1RwtG5YPXRMuUP8QdutMEM1gKilRvaBWWPA5SqNEWpADBmF55Ul2534dKGi8P9JWqbgI1Hut2FSGAeEIMxLg39-YR2hUi0fjuK_wTMm5Jl7HHvszOGYc5MgxvYl5tIH_HryOhbGJ-RUtyRq_jxmlsaSLB-pFx9XCETvD6MimC3HMyE6LN0XY-HXK3uEQLmvRZyAQTI3VcrDT-SdNn_0v2UcSyFbUO9qKsx9aDy2OHu5xQxIvBhRTSDNJaBhNOP3AGiufmYFYd1-7y0JB6chVpvT0GXQWROBkFc14aPx4JPUwqUZZfdD4pj6lVkaF0-JwLoptDyDkJ8lXqRm6-6unMJQMG7AcjvvUuXdJ8d2jvCKnzP8BTQcTQYB_VJsyrYJqX-MXMI3ebWnqHxa9V9jc65qklH6OsW2wqxAhdiCspMFG05cVEOn2XLcwjMLpOlZPE9v5ZKZoz0RnIgvyGc4dKhopsIw2QLDW2E' \
https://syndesis-demo-pj.apps.cluster-c8cz7.c8cz7.sandbox545.opentlc.com/api/v1/public/integrations/demo-pj/export.zip

## 環境ラベルの作成 secret
curl -v -k -L -H "Content-Type: application/json" \
-H "SYNDESIS-XSRF-TOKEN: awesome" \
-H 'Authorization: Bearer \
eyJhbGciOiJSUzI1NiIsImtpZCI6Il9NbTVmX3BjZ1RzYVdCWUYxam1qa3lkUGFORjBWR1VDb0M3NE9HT1VrOWsifQ.eyJpc3MiOiJrdWJlcm5ldGVzL3NlcnZpY2VhY2NvdW50Iiwia3ViZXJuZXRlcy5pby9zZXJ2aWNlYWNjb3VudC9uYW1lc3BhY2UiOiJjb21tb25zLWRlbW8iLCJrdWJlcm5ldGVzLmlvL3NlcnZpY2VhY2NvdW50L3NlY3JldC5uYW1lIjoiZGVmYXVsdC10b2tlbi05NmxnbiIsImt1YmVybmV0ZXMuaW8vc2VydmljZWFjY291bnQvc2VydmljZS1hY2NvdW50Lm5hbWUiOiJkZWZhdWx0Iiwia3ViZXJuZXRlcy5pby9zZXJ2aWNlYWNjb3VudC9zZXJ2aWNlLWFjY291bnQudWlkIjoiZWMzOWYzNDYtNmI1MC00OWFjLWFjYTgtZjYwNTYxZmI0MjBhIiwic3ViIjoic3lzdGVtOnNlcnZpY2VhY2NvdW50OmNvbW1vbnMtZGVtbzpkZWZhdWx0In0.IlSAbCAH-a5DAImH7XUz4AFa3TftkrM_BZiE42PoSoYqxiKt8BDIbYjaMkXmM3Zqw0G2WfweV_lUtkFSHkMvaJ8D5lhdND2EaI_xVka1bHfLWJXt_Fy4z0h0fsei5FxslIRmyPJRnPon7nkZzl1CClMIV0lyQ1Jt3oqsNOOb4ihw4xE_UWxyRHcBAbUof6iBZg9w4hagA1RwtG5YPXRMuUP8QdutMEM1gKilRvaBWWPA5SqNEWpADBmF55Ul2534dKGi8P9JWqbgI1Hut2FSGAeEIMxLg39-YR2hUi0fjuK_wTMm5Jl7HHvszOGYc5MgxvYl5tIH_HryOhbGJ-RUtyRq_jxmlsaSLB-pFx9XCETvD6MimC3HMyE6LN0XY-HXK3uEQLmvRZyAQTI3VcrDT-SdNn_0v2UcSyFbUO9qKsx9aDy2OHu5xQxIvBhRTSDNJaBhNOP3AGiufmYFYd1-7y0JB6chVpvT0GXQWROBkFc14aPx4JPUwqUZZfdD4pj6lVkaF0-JwLoptDyDkJ8lXqRm6-6unMJQMG7AcjvvUuXdJ8d2jvCKnzP8BTQcTQYB_VJsyrYJqX-MXMI3ebWnqHxa9V9jc65qklH6OsW2wqxAhdiCspMFG05cVEOn2XLcwjMLpOlZPE9v5ZKZoz0RnIgvyGc4dKhopsIw2QLDW2E' \
https://syndesis-public-api-demo-pj.apps.cluster-c8cz7.c8cz7.sandbox545.opentlc.com/api/v1/public/environments/dev1 --request POST






https://syndesis-demo-pj.apps.cluster-c8cz7.c8cz7.sandbox545.opentlc.com
https://syndesis-public-api-demo-pj.apps.cluster-c8cz7.c8cz7.sandbox545.opentlc.com




oc create serviceaccount cicd-client

oc policy add-role-to-user edit system:serviceaccount:demo-pj:cicd-client